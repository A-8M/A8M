<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>A8M â€“ Streetwear</title>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
*{box-sizing:border-box}
body{margin:0;font-family:Arial;background:#0d0d0d;color:#fff}

/* HEADER */
header{
  display:flex;justify-content:space-between;align-items:center;
  padding:15px 20px;
  background:linear-gradient(135deg,#ff4a4a,#ff1a1a)
}
#hamburger{font-size:26px;cursor:pointer}
.header-center{text-align:center}
#cart-icon{cursor:pointer}
#cart-count{
  background:#fff;color:#ff1a1a;
  border-radius:50%;padding:2px 6px;margin-left:4px
}
#auth-button{display:flex;align-items:center;gap:8px}
#logout-btn{
  display:none;background:#ff4a4a;border:none;color:#fff;
  padding:6px 8px;border-radius:6px;cursor:pointer
}

/* MENU */
#menu-overlay{
  position:fixed;inset:0;background:rgba(0,0,0,.5);
  display:none;z-index:90
}
#mobile-menu{
  position:fixed;top:0;left:0;width:260px;height:100%;
  background:#111;padding:60px 20px;
  transform:translateX(-100%);transition:.3s;z-index:100
}
#mobile-menu.active{transform:translateX(0)}
#mobile-menu a{
  display:block;color:#ff4a4a;
  text-decoration:none;font-size:18px;margin-bottom:16px
}

/* PRODUCTS */
.container{max-width:1100px;margin:auto;padding:30px}
.products{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px
}
.product{
  background:#1a1a1a;padding:15px;border-radius:14px;
  cursor:pointer;text-align:center
}
.product img{width:100%;border-radius:10px}
.price{color:#ff4a4a;font-weight:bold}

/* MODALS */
.overlay{
  position:fixed;inset:0;background:rgba(0,0,0,.6);
  display:none;z-index:200
}
.modal{
  position:fixed;top:50%;left:50%;
  transform:translate(-50%,-50%);
  background:#1a1a1a;padding:20px;
  border-radius:16px;width:90%;max-width:420px;
  display:none;z-index:201
}
.modal img{width:100%;border-radius:10px}
input,select,button{
  width:100%;padding:10px;margin:6px 0;
  border:none;border-radius:8px
}
input,select{background:#111;color:#fff}
button{background:#ff4a4a;color:#fff;cursor:pointer}
.small{font-size:13px;color:#aaa}
</style>
</head>

<body>

<header>
  <div id="hamburger">&#9776;</div>
  <div class="header-center">
    <h2>Að’†™M</h2>
    <small>Streetwear</small>
  </div>
  <div style="display:flex;gap:14px;align-items:center">
    <div id="cart-icon">
      <i class="fa fa-bag-shopping"></i>
      <span id="cart-count">0</span>
    </div>
    <div id="auth-button">
      <i class="fa fa-user" id="user-icon"></i>
      <span id="user-name"></span>
      <button id="logout-btn"><i class="fa fa-sign-out"></i></button>
    </div>
  </div>
</header>

<div id="menu-overlay"></div>
<nav id="mobile-menu">
  <a href="#products">Produkty</a>
</nav>

<div class="container" id="products">
  <div class="products">
    <div class="product" onclick="openProduct(
      'BiaÅ‚a Koszulka A8M',
      115,
      'bialaprzod.png',
      'Klasyczna koszulka streetwear.'
    )">
      <img src="bialaprzod.png">
      <h3>BiaÅ‚a Koszulka A8M</h3>
      <p class="price">115 zÅ‚</p>
    </div>
  </div>
</div>

<!-- PRODUCT MODAL -->
<div class="overlay" id="product-overlay"></div>
<div class="modal" id="product-modal">
  <img id="p-img">
  <h3 id="p-name"></h3>
  <p id="p-desc"></p>
  <p class="price" id="p-price"></p>

  <select id="p-size">
    <option>S</option><option>M</option>
    <option>L</option><option>XL</option>
  </select>

  <input type="number" id="p-qty" value="1" min="1">
  <button onclick="addToCart()">Dodaj do koszyka</button>

  <p class="small">Dostawa tylko na terenie kraju</p>
  <p class="small">Zwrot do 14 dni</p>
</div>

<!-- CART MODAL -->
<div class="overlay" id="cart-overlay"></div>
<div class="modal" id="cart-modal">
  <h3>Koszyk</h3>
  <div id="cart-items"></div>
  <p id="cart-total"></p>
  <button onclick="checkout()">Kup teraz</button>
</div>

<!-- AUTH MODAL -->
<div class="overlay" id="auth-overlay"></div>
<div class="modal" id="auth-modal">
  <h3 id="auth-title">Logowanie</h3>
  <input id="firstName" placeholder="ImiÄ™">
  <input id="lastName" placeholder="Nazwisko">
  <input id="email" placeholder="Email">
  <input id="password" type="password" placeholder="HasÅ‚o">
  <button id="auth-submit">Zaloguj</button>
  <p id="auth-toggle" style="color:#ff4a4a;text-align:center;cursor:pointer">
    Nie masz konta? Zarejestruj siÄ™
  </p>
</div>

<!-- FIREBASE + LOGIC -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import {
  getAuth,createUserWithEmailAndPassword,
  signInWithEmailAndPassword,
  onAuthStateChanged,signOut,updateProfile
} from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

/* ðŸ”´ TU WKLEJ SWOJE FIREBASE */
const firebaseConfig = {
  apiKey: "AIzaSyDBnVClzjBir7CHb4SNJwiUX5Wk6tPptps",
  authDomain: "a8m-store.firebaseapp.com",
  projectId: "a8m-store",
  appId: "1:18266864248:web:347cd344e0998066bbcb8d"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);

/* HAMBURGER */
hamburger.onclick=()=>{
  mobileMenu.classList.toggle('active');
  menuOverlay.style.display='block';
};
menuOverlay.onclick=()=>{
  mobileMenu.classList.remove('active');
  menuOverlay.style.display='none';
};

/* PRODUCT */
let currentProduct={};
window.openProduct=(n,p,i,d)=>{
  currentProduct={name:n,price:p,img:i};
  pName.textContent=n;
  pDesc.textContent=d;
  pPrice.textContent=p+' zÅ‚';
  pImg.src=i;
  productOverlay.style.display=productModal.style.display='block';
};
productOverlay.onclick=()=>{
  productOverlay.style.display=productModal.style.display='none';
};

/* CART */
let cart=[];
window.addToCart=()=>{
  cart.push({
    ...currentProduct,
    size:pSize.value,
    qty:Number(pQty.value)
  });
  cartCount.textContent=cart.reduce((s,i)=>s+i.qty,0);
  productOverlay.style.display=productModal.style.display='none';
};
cartIcon.onclick=()=>{
  cartItems.innerHTML='';
  let total=0;
  cart.forEach(p=>{
    total+=p.price*p.qty;
    cartItems.innerHTML+=`<p>${p.name} (${p.size}) x${p.qty}</p>`;
  });
  cartTotal.textContent='Razem: '+total+' zÅ‚';
  cartOverlay.style.display=cartModal.style.display='block';
};
cartOverlay.onclick=()=>{
  cartOverlay.style.display=cartModal.style.display='none';
};
window.checkout=()=>{
  if(!auth.currentUser){alert('Zaloguj siÄ™');return;}
  alert('ZamÃ³wienie zÅ‚oÅ¼one');
  cart=[];cartCount.textContent=0;
  cartOverlay.style.display=cartModal.style.display='none';
};

/* AUTH */
let register=false;
userIcon.onclick=()=>{
  authOverlay.style.display=authModal.style.display='block';
};
authToggle.onclick=()=>{
  register=!register;
  firstName.style.display=lastName.style.display=register?'block':'none';
  authTitle.textContent=register?'Rejestracja':'Logowanie';
  authSubmit.textContent=register?'Zarejestruj':'Zaloguj';
};
authSubmit.onclick=async()=>{
  if(register){
    const cred=await createUserWithEmailAndPassword(auth,email.value,password.value);
    await updateProfile(cred.user,{displayName:firstName.value+' '+lastName.value});
  }else{
    await signInWithEmailAndPassword(auth,email.value,password.value);
  }
  authOverlay.style.display=authModal.style.display='none';
};
onAuthStateChanged(auth,u=>{
  if(u){
    userName.textContent=u.displayName||u.email;
    logoutBtn.style.display='inline-block';
  }else{
    userName.textContent='';
    logoutBtn.style.display='none';
  }
});
logoutBtn.onclick=()=>signOut(auth);
authOverlay.onclick=()=>{
  authOverlay.style.display=authModal.style.display='none';
};
</script>

</body>
</html>
